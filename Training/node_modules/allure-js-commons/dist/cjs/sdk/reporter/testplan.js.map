{"version":3,"file":"testplan.js","names":["_nodeFs","require","parseTestPlan","testPlanPath","process","env","ALLURE_TESTPLAN_PATH","undefined","file","readFileSync","testPlan","JSON","parse","tests","length","e","exports"],"sources":["../../../../src/sdk/reporter/testplan.ts"],"sourcesContent":["import { readFileSync } from \"node:fs\";\nimport type { TestPlanV1 } from \"../types.js\";\n\nexport const parseTestPlan = (): TestPlanV1 | undefined => {\n  const testPlanPath = process.env.ALLURE_TESTPLAN_PATH;\n\n  if (!testPlanPath) {\n    return undefined;\n  }\n\n  try {\n    const file = readFileSync(testPlanPath, \"utf8\");\n    const testPlan = JSON.parse(file) as TestPlanV1;\n\n    // Execute all tests if test plan is empty\n    if ((testPlan.tests || []).length === 0) {\n      return undefined;\n    }\n\n    return testPlan;\n  } catch (e) {\n    return undefined;\n  }\n};\n"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,OAAA;AAGO,IAAMC,aAAa,GAAGA,CAAA,KAA8B;EACzD,IAAMC,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,oBAAoB;EAErD,IAAI,CAACH,YAAY,EAAE;IACjB,OAAOI,SAAS;EAClB;EAEA,IAAI;IACF,IAAMC,IAAI,GAAG,IAAAC,oBAAY,EAACN,YAAY,EAAE,MAAM,CAAC;IAC/C,IAAMO,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACJ,IAAI,CAAe;;IAE/C;IACA,IAAI,CAACE,QAAQ,CAACG,KAAK,IAAI,EAAE,EAAEC,MAAM,KAAK,CAAC,EAAE;MACvC,OAAOP,SAAS;IAClB;IAEA,OAAOG,QAAQ;EACjB,CAAC,CAAC,OAAOK,CAAC,EAAE;IACV,OAAOR,SAAS;EAClB;AACF,CAAC;AAACS,OAAA,CAAAd,aAAA,GAAAA,aAAA","ignoreList":[]}